<?phpnamespace controller;use model\recycle_bin;include_once '../model/recycle_bin.php';class recycleController{    public function showDeletedProduct()    {        // Sanitize input        $table = htmlspecialchars($_POST['table']);        // Instantiate model        $DeletedData = new recycle_bin();        // Fetch data        $data = $DeletedData->showAllDeletedData($table);        // Start building HTML table        $tableHTML = '            <table class="table table-dark">                <thead>                    <tr>                        <th scope="col">Product Name</th>                        <th scope="col">Branch</th>                        <th scope="col">Unit Price</th>                        <th scope="col">Status</th>                        <th scope="col">Select</th>                    </tr>                </thead>                <tbody>        ';        // Check if data is available        if (!empty($data)) {            foreach ($data as $row) {                $tableHTML .= '                    <tr>                        <td>' . htmlspecialchars($row['product_name']) . '</td>                        <td>' . htmlspecialchars($row['branch']) . '</td>                        <td>' . htmlspecialchars($row['unit_price']) . '</td>                        <td>' . htmlspecialchars($row['status']) . '</td>                        <td>                        <button id="btn_Data" data-table="'.$table.'" class="btn btn-primary" type="button" value="' . htmlspecialchars($row['id']) . '">Restore</button>                        </td>                    </tr>                ';            }        } else {            $tableHTML .= '                <tr>                    <td colspan="5" class="text-center">No Deleted Items Found</td>                </tr>            ';        }        // Close table        $tableHTML .= '                </tbody>            </table>        ';        // Output the table        echo $tableHTML;    }    public function showDeletedBranch()    {        // Sanitize input        $table = htmlspecialchars($_POST['table']);        // Instantiate model        $DeletedData = new recycle_bin();        // Fetch data        $data = $DeletedData->showAllDeletedData($table);        // Start building HTML table        $tableHTML = '            <table class="table table-dark">                <thead>                    <tr>                        <th scope="col">Branch Name</th>                        <th scope="col">Status</th>                        <th scope="col">Action</th>                    </tr>                </thead>                <tbody>        ';        // Check if data is available        if (!empty($data)) {            foreach ($data as $row) {                $tableHTML .= '                    <tr>                        <td>' . htmlspecialchars($row['Branch_Name']) . '</td>                        <td>' . htmlspecialchars($row['status']) . '</td>                        <td>                         <input type="hidden" name="table" value="' . $table. '">                          <button id="btn_Data" data-table="'.$table.'" class="btn btn-primary" type="button" value="' . htmlspecialchars($row['id']) . '">Restore</button>                        </td>                    </tr>                ';            }        } else {            $tableHTML .= '                <tr>                    <td colspan="5" class="text-center">No Deleted Branch Found</td>                </tr>            ';        }        // Close table        $tableHTML .= '                </tbody>            </table>        ';        // Output the table        echo $tableHTML;    }    public function showDeletedEmployee()    {        // Sanitize input        $table = htmlspecialchars($_POST['table']);        // Instantiate model        $DeletedData = new recycle_bin();        // Fetch data        $data = $DeletedData->showAllDeletedData($table);        // Start building HTML table        $tableHTML = '            <table class="table table-dark">                <thead>                    <tr>                        <th scope="col">Branch</th>                        <th scope="col">Status</th>                        <th scope="col">Action</th>                    </tr>                </thead>                <tbody>        ';        // Check if data is available        if (!empty($data)) {            foreach ($data as $row) {                $tableHTML .= '                    <tr>                        <td>' . htmlspecialchars($row['Branch']) . '</td>                          <td>' . htmlspecialchars($row['status']) . '</td>                        <td>                           <button id="btn_Data" data-table="'.$table.'" class="btn btn-primary" type="button" value="' . htmlspecialchars($row['id']) . '">Restore</button>                        </td>                    </tr>                ';            }        } else {            $tableHTML .= '                <tr>                    <td colspan="5" class="text-center">No Deleted Branch Found</td>                </tr>            ';        }        // Close table        $tableHTML .= '                </tbody>            </table>        ';        // Output the table        echo $tableHTML;    }    public function RestoreData()    {        $dataId = htmlspecialchars($_POST['id']);        $table = htmlspecialchars($_POST['table']);        if (empty($dataId)  && empty($table)){            echo json_encode(['success' => false, 'message' => 'No item Id or TableName']);            return;        }        $restoreNow = new recycle_bin();        $restoreNow->restoreData($table,$dataId);    }}// Handle POST requestsif ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_POST['action'])) {    $deletedList = new recycleController();    switch ($_POST['action']) {        case 'product':            $deletedList->showDeletedProduct();            break;        case 'brance':            $deletedList->showDeletedBranch();            break;        case 'employee':            $deletedList->showDeletedEmployee();            break;        case 'restore':            $deletedList->RestoreData();            break;        default:            echo "Method is Not Allowed";            break;    }}