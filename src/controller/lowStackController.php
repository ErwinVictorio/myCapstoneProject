<?phpnamespace controller;use model\LowStackModel;include_once '../model/LowStackModel.php';class lowStackController{   public function displayLowStacks()   {        $model = new LowStackModel();        $data = $model->DisplayLowStack();        // check if have data or not null       $tr = '';       foreach ($data as $row){           $productName =  $row['product_name'];           $branch = $row['branch'];           $stack = $row['current_stack'];           $color = $row['item_color'];           $id = $row['id'];            $tr .='<tr>';           if ($stack <= 1){               $tr .= '<td> <span class="badge text-bg-danger">('.$stack.' in stock) - High Priority: Restock Soon!</span></td>';           }else{              $tr .= '<td> <span class="badge text-bg-warning">( '.$stack.' in stock) - Moderate: Monitor Inventory</span> </td>';           }          $tr .= '                <td>'.$productName.'</td>                <td>'.$color.'</td>                <td>'.$branch.'</td>                <td>                    <button id="btn_updateStack" value="'.$id.'" class="btn btn-outline-primary">update</button>               </td>          ';         $tr .= '</tr>';       }       echo $tr;   }    public function updateStacks()    {        $model = new LowStackModel();        if (isset($_POST['productId'])) {            $productId = $_POST['productId'];            $card = '';            $data = $model->updateStack($productId);            if ($data) {                    $stack = $data[0]['current_stack'];                    $id = $data[0]['id'];                $card .= '            <div class="modal fade" id="updateModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">              <form id="SaveModelForm" action="../controller/lowStackController.php" method="post" class="modal-dialog modal-dialog-centered">                <div class="modal-content">                  <div class="modal-header">                    <h1 class="modal-title fs-6 text-muted" id="exampleModalLabel">Update Stack</h1>                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>                  </div>                  <div class="modal-body">                  <input name="productId" value="'.$id.'" type="hidden">                  <label for="stack">                     <span class="text-muted">stack</span>                    <input name="stack" type="number" min="1" value="'.$stack.'" class="form-control">                  </label>                     </div>                  <div class="modal-footer">                    <button type="submit" class="btn btn-primary">Save</button>                  </div>                </div>              </form>            </div>';                echo $card;            } else {                echo "No Data";            }        } else {            echo "Invalid Product ID.";        }    }    public function saveUpdatedStack()    {        $model = new LowStackModel();        $id = $_POST['productId'];        $stack = $_POST['stack'];        if (isset($_POST['productId'])){            $model->saveUpdatedStack($stack,$id);        }    }}if ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_POST['action'])){    $controller = new lowStackController();    switch ($_POST['action']){        case 'update_':            $controller->updateStacks();            break;        case 'Save':            $controller->saveUpdatedStack();            break;    }}